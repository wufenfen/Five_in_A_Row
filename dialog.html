<!DOCTYPE html>
<html>

<head>
    <title>弹窗组件</title>
    <meta charset="utf-8">
    <style type="text/css">
    .background {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: -1;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #999999;
    }
    
    .dialog {
        width: 400px;
        border-radius: 10px;
        background-color: white;
        box-sizing: border-box;
    }
    
    .header {
        background-color: #d8e9f9;
        height: 40px;
        line-height: 40px;
        padding-left: 10px;
    }
    
    .content {
        padding: 20px;
        word-wrap: break-word;
        word-break: break-all;
    }
    
    .footer {
        border-top: 1px solid #D1D1D1;
        height: 20px;
        padding: 15px;
        text-align: right;
    }
    
    .text-right {
        float: right;
    }
    </style>
</head>

<body>
    <script id="text" type="text/wuff">
        这里的内容可以随便长，作为对话框的内容。
    </script>
    <script>
    function Dialog() {
        var dialog = document.createElement('div');
        var dialogHTML = '<div class="background" id="dialog"> \
        <div class="dialog"> \
            <div class="header"> \
                <span id="title">提醒</span> \
                <span class="text-right"> × </span> \
            </div> \
            <div class="content" id="content"> \
                我是弹窗的内容，这个内容是可以被配置的。标题也是同样的。 \
            </div> \
            <div class="footer"> \
                <button type="button" id="cancel">取消</button> \
                <button type="button" id="ok">确认</button> \
            </div> \
        </div> \
    </div>';
        dialog.innerHTML = dialogHTML;
        document.body.appendChild(dialog);
        this.open = function(options) {

            if (options.title) {
                document.getElementById("title").innerText = options.title;
            }
            if (options.content) {
                document.getElementById("content").innerText = options.content;
            }
            if (options.cancelBtnTxt) {
                document.getElementById("cancel").innerText = options.cancelBtnTxt;
            }
            if (options.okBtnTxt) {
                document.getElementById("ok").innerText = options.okBtnTxt;
            }

            var okBtn = document.getElementById("ok");
            var cancelBtn = document.getElementById("cancel");
            var dialog = document.getElementById("dialog");
            okBtn.addEventListener('click', function() {
                var anotherDialog = new Dialog();
                anotherDialog.open({
                    title: "Dialog_",
                    content: "This is new world ",
                    okBtnTxt: "surprise",
                    cancelBtnTxt: "boring"
                });

            })

            cancelBtn.addEventListener('click', function() {
                dialog.style.display = 'none';
            })
        }
    }

    var dialog = new Dialog();
    var con = document.getElementById("text").innerText;
    dialog.open({
        title: "配置的标题",
        content: con,
        okBtnTxt: "再弹出一个窗口",
        cancelBtnTxt: "关闭当前窗口"
    });
    </script>
</body>

</html>
